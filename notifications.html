<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Notifications</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/dark-mode.css">
  <link rel="stylesheet" href="css/notifications.css">
</head>
<body>
  <script>
    (function() {
      if (localStorage.getItem('theme') === 'dark') {
        document.body.classList.add('dark-mode');
      }
    })();
  </script>

  <!-- Navbar -->
  <nav class="navbar navbar-dark px-3">
    <a class="navbar-brand d-flex align-items-center" href="index.html">
      <img src="images/DC.jpg" width="105" height="100" alt="Logo">
    </a>
    <ul class="navbar-nav ms-auto d-flex flex-row mb-0 align-items-center">
      <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
      <li class="nav-item"><a class="nav-link" href="messages.html">Messages</a></li>
      <li class="nav-item"><a class="nav-link active" href="notifications.html">Notifications</a></li>
      <li class="nav-item"><a class="nav-link" href="profile.html">Profile</a></li>
      <li class="nav-item"><a class="nav-link" href="settings.html">Settings</a></li>
      <li class="nav-item"><a class="nav-link" href="login.html">Login</a></li>
      <li class="nav-item"><a class="nav-link" href="register.html">Register</a></li>
    </ul>
  </nav>

  <main class="notifications-shell" aria-label="Notifications">
    <header class="notifications-top">
      <div>
        <h1 class="page-title mb-1">Notifications</h1>
      </div>
      <div class="pill-set" role="group" aria-label="Notification filters">
        <button class="pill active" type="button">All</button>
        <button class="pill" type="button">Unread</button>
      </div>
    </header>

    <section class="notification-feed" aria-live="polite">
      <article class="ig-notification unread" data-notification-type="flagged" data-state="unread">
        <div class="avatar-ring">
          <img src="images/default profile picture.jpg" alt="Moderation team">
        </div>
        <div class="ig-copy">
          <p class="ig-text"><span class="handle">Moderation</span> flagged your post for review.</p>
          <div class="ig-meta">
            <span class="time">4h</span>
            <span class="dot" aria-hidden="true"></span>
            <span class="context">Post #2481</span>
          </div>
        </div>
        <button class="cta-text" type="button">View</button>
      </article>

      <article class="ig-notification unread" data-notification-type="follow" data-state="unread">
        <div class="avatar-ring">
          <img src="images/user1.jpg" alt="Jordan Park">
        </div>
        <div class="ig-copy">
          <p class="ig-text"><span class="handle">Jordan Park</span> started following you.</p>
          <div class="ig-meta">
            <span class="time">2h</span>
            <span class="dot" aria-hidden="true"></span>
        <span class="context">Followers</span>
          </div>
        </div>
        <button class="cta-follow" type="button">Follow back</button>
      </article>

      <article class="ig-notification" data-notification-type="comment" data-state="read">
        <div class="avatar-ring">
          <img src="images/user2.jpg" alt="Ava Chen">
        </div>
        <div class="ig-copy">
          <p class="ig-text"><span class="handle">Ava Chen</span> commented: "Nice update!"</p>
          <div class="ig-meta">
            <span class="time">2h</span>
            <span class="dot" aria-hidden="true"></span>
            <span class="context">Post #2481</span>
          </div>
        </div>
        <div class="post-thumb" style="background-image: url('images/campus.jpg');" aria-label="Post preview"></div>
      </article>

      <article class="ig-notification" data-notification-type="like" data-state="read">
        <div class="avatar-ring">
          <img src="images/user1.jpg" alt="People who liked your post">
        </div>
        <div class="ig-copy">
          <p class="ig-text"><span class="handle">6 people</span> liked your post.</p>
          <div class="ig-meta">
            <span class="time">2h</span>
            <span class="dot" aria-hidden="true"></span>
            <span class="context">Post #2481</span>
          </div>
        </div>
        <div class="post-thumb" style="background-image: url('images/library.jpg');" aria-label="Post preview"></div>
      </article>
    </section>
  </main>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const feed = document.querySelector('.notification-feed');
      if (!feed) return;

      feed.addEventListener('click', function (event) {
        const followBtn = event.target.closest('.cta-follow');
        if (followBtn) {
          const isFollowing = followBtn.classList.toggle('is-following');
          followBtn.textContent = isFollowing ? 'Following' : 'Follow back';
          followBtn.setAttribute('aria-pressed', String(isFollowing));
          return;
        }

        const viewBtn = event.target.closest('.cta-text');
        if (viewBtn) {
          const card = viewBtn.closest('.ig-notification');
          if (card) {
            card.classList.remove('unread');
            card.dataset.state = 'read';
          }
        }
      });
    });
  </script>
</body>
</html>
